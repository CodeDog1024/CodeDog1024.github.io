<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Java IO 流 | 代码狗的小屋</title><meta name="author" content="Code Dog"><meta name="copyright" content="Code Dog"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="IO 流IO 流是 Java 中用于处理输入和输出操作的核心概念。Java 提供了丰富的 IO 类库，支持文件操作、网络通信等多种场景。 分类按照流的方向可以分为：输入流和输出流。输入流用于读取数据，输出流用于写入数据。 按照流的数据类型可以分为：字节流和字符流。字节流可以处理所有类型的数据，而字符流专门用于处理文本数据。 字节流字节流是 Java 中用于处理字节数据的核心概念。字节流可以处理所有">
<meta property="og:type" content="article">
<meta property="og:title" content="Java IO 流">
<meta property="og:url" content="https://codedog1024.github.io/2025/10/18/Java25/index.html">
<meta property="og:site_name" content="代码狗的小屋">
<meta property="og:description" content="IO 流IO 流是 Java 中用于处理输入和输出操作的核心概念。Java 提供了丰富的 IO 类库，支持文件操作、网络通信等多种场景。 分类按照流的方向可以分为：输入流和输出流。输入流用于读取数据，输出流用于写入数据。 按照流的数据类型可以分为：字节流和字符流。字节流可以处理所有类型的数据，而字符流专门用于处理文本数据。 字节流字节流是 Java 中用于处理字节数据的核心概念。字节流可以处理所有">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://codedog1024.github.io/img/12.jpg">
<meta property="article:published_time" content="2025-10-18T13:14:13.000Z">
<meta property="article:modified_time" content="2025-10-19T12:09:05.626Z">
<meta property="article:author" content="Code Dog">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://codedog1024.github.io/img/12.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Java IO 流",
  "url": "https://codedog1024.github.io/2025/10/18/Java25/",
  "image": "https://codedog1024.github.io/img/12.jpg",
  "datePublished": "2025-10-18T13:14:13.000Z",
  "dateModified": "2025-10-19T12:09:05.626Z",
  "author": [
    {
      "@type": "Person",
      "name": "Code Dog",
      "url": "https://codedog1024.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://codedog1024.github.io/2025/10/18/Java25/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 6 || hour >= 1
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java IO 流',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/12.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">代码狗的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">Java IO 流</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Java IO 流</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-18T13:14:13.000Z" title="发表于 2025-10-18 21:14:13">2025-10-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-19T12:09:05.626Z" title="更新于 2025-10-19 20:09:05">2025-10-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="IO-流"><a href="#IO-流" class="headerlink" title="IO 流"></a>IO 流</h2><p>IO 流是 Java 中用于处理输入和输出操作的核心概念。Java 提供了丰富的 IO 类库，支持文件操作、网络通信等多种场景。</p>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><p>按照流的方向可以分为：<code>输入流</code>和<code>输出流</code>。输入流用于读取数据，输出流用于写入数据。</p>
<p>按照流的数据类型可以分为：<code>字节流</code>和<code>字符流</code>。字节流可以处理所有类型的数据，而字符流专门用于处理文本数据。</p>
<h2 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h2><p>字节流是 Java 中用于处理字节数据的核心概念。字节流可以处理所有类型的数据，如图片、音频、视频等。字节流提供了一系列方法，用于读取、写入和操作字节数据。</p>
<p>字节流提供了两个接口：<code>InputStream</code>和<code>OutputStream</code>。<code>InputStream</code>用于读取字节数据，<code>OutputStream</code>用于写入字节数据。但是我们不需要直接使用这两个接口，而是使用它们的子类。分别是：<code>FileInputStream</code>和<code>FileOutputStream</code>。</p>
<h2 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h2><h3 id="FileOutputStream-构造方法"><a href="#FileOutputStream-构造方法" class="headerlink" title="FileOutputStream 构造方法"></a>FileOutputStream 构造方法</h3><table>
<thead>
<tr>
<th align="left">构造方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">FileOutputStream(File file)</td>
<td align="left">通过文件对象创建一个字节输出流</td>
</tr>
<tr>
<td align="left">FileOutputStream(String name)</td>
<td align="left">通过文件路径创建一个字节输出流</td>
</tr>
<tr>
<td align="left">FileOutputStream(File file, boolean append)</td>
<td align="left">通过文件对象创建一个字节输出流，第二个参数为 true 则追加内容</td>
</tr>
<tr>
<td align="left">FileOutputStream(String name, boolean append)</td>
<td align="left">通过文件路径创建一个字节输出流，第二个参数为 true 则追加内容</td>
</tr>
</tbody></table>
<h3 id="FileOutputStream-常用方法"><a href="#FileOutputStream-常用方法" class="headerlink" title="FileOutputStream 常用方法"></a>FileOutputStream 常用方法</h3><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">write(int b)</td>
<td align="left">写入一个字节</td>
</tr>
<tr>
<td align="left">write(byte[] b)</td>
<td align="left">写入字节数组</td>
</tr>
<tr>
<td align="left">write(byte[] b, int off, int len)</td>
<td align="left">写入字节数组的一部分</td>
</tr>
<tr>
<td align="left">close()</td>
<td align="left">关闭输出流，释放资源</td>
</tr>
<tr>
<td align="left">getChannel()</td>
<td align="left">获取与此输出流关联的文件通道</td>
</tr>
<tr>
<td align="left">getFD()</td>
<td align="left">获取此输出流的文件描述符对象</td>
</tr>
<tr>
<td align="left">nullOutputStream()</td>
<td align="left">返回一个空输出流，用于忽略输出</td>
</tr>
<tr>
<td align="left">flush()</td>
<td align="left">刷新输出流，将缓冲区的数据写入目标</td>
</tr>
</tbody></table>
<h3 id="FileOutputStream-示例代码"><a href="#FileOutputStream-示例代码" class="headerlink" title="FileOutputStream 示例代码"></a>FileOutputStream 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建文件对象，如果文件不存在则创建新文件，如果文件存在，新写入的内容会覆盖原有内容</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"><span class="comment">// 与文件之间建立输出流</span></span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line"><span class="comment">// 传入的参数必须是字节</span></span><br><span class="line">fileOutputStream.write(<span class="string">&quot;ABC&quot;</span>.getBytes());</span><br><span class="line"><span class="comment">// 关闭资源</span></span><br><span class="line">fileOutputStream.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"><span class="comment">// 与文件之间建立输出流，第二个参数为 true 则追加内容</span></span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file, <span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 传入的参数必须是字节</span></span><br><span class="line">fileOutputStream.write(<span class="string">&quot;ABC&quot;</span>.getBytes());</span><br><span class="line"><span class="comment">// 关闭资源</span></span><br><span class="line">fileOutputStream.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"><span class="comment">// 与文件之间建立输出流</span></span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line"><span class="comment">// 传入的参数必须是字节，可以使用换行符实现换行</span></span><br><span class="line">fileOutputStream.write(<span class="string">&quot;ABC\r\nDEF&quot;</span>.getBytes());</span><br><span class="line"><span class="comment">// 关闭资源</span></span><br><span class="line">fileOutputStream.close();</span><br></pre></td></tr></table></figure>

<h2 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h2><h3 id="FileInputStream-构造方法"><a href="#FileInputStream-构造方法" class="headerlink" title="FileInputStream 构造方法"></a>FileInputStream 构造方法</h3><table>
<thead>
<tr>
<th>构造方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FileInputStream(File file)</td>
<td>通过文件对象创建</td>
</tr>
<tr>
<td>FileInputStream(String path)</td>
<td>通过文件路径创建</td>
</tr>
<tr>
<td>FileInputStream(FileDescriptor fd)</td>
<td>通过文件描述符创建</td>
</tr>
</tbody></table>
<h3 id="FileInputStream-常用方法"><a href="#FileInputStream-常用方法" class="headerlink" title="FileInputStream 常用方法"></a>FileInputStream 常用方法</h3><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">read()</td>
<td align="left">读取一个字节</td>
</tr>
<tr>
<td align="left">read(byte[] b)</td>
<td align="left">读取字节数组</td>
</tr>
<tr>
<td align="left">read(byte[] b, int off, int len)</td>
<td align="left">读取字节数组</td>
</tr>
<tr>
<td align="left">readAllBytes()</td>
<td align="left">读取所有字节</td>
</tr>
<tr>
<td align="left">readNBytes(int len)</td>
<td align="left">读取指定数量的字节</td>
</tr>
<tr>
<td align="left">transferTo(OutputStream out)</td>
<td align="left">将此输入流的数据传输到指定的输出流</td>
</tr>
<tr>
<td align="left">skip(long n)</td>
<td align="left">跳过指定数量的字节</td>
</tr>
<tr>
<td align="left">available()</td>
<td align="left">获取输入流中剩余的字节数</td>
</tr>
<tr>
<td align="left">close()</td>
<td align="left">关闭输入流，释放资源</td>
</tr>
<tr>
<td align="left">getFD()</td>
<td align="left">获取此输入流的文件描述符对象</td>
</tr>
<tr>
<td align="left">getChannel()</td>
<td align="left">获取与此输入流关联的文件通道</td>
</tr>
<tr>
<td align="left">nullInputStream()</td>
<td align="left">返回一个空输入流，用于忽略输入</td>
</tr>
<tr>
<td align="left">readNBytes(byte[] b, int off, int len)</td>
<td align="left">读取指定数量的字节，并跳过指定数量的字节</td>
</tr>
<tr>
<td align="left">skipNBytes(long n)</td>
<td align="left">跳过指定数量字节</td>
</tr>
<tr>
<td align="left">markSupported()</td>
<td align="left">判断流是否支持 mark 和 reset 方法</td>
</tr>
<tr>
<td align="left">mark(int readAheadLimit)</td>
<td align="left">标记当前位置，并设置读取 ahead 的限制</td>
</tr>
<tr>
<td align="left">reset()</td>
<td align="left">恢复到 mark 的位置</td>
</tr>
</tbody></table>
<h3 id="FileInputStream-示例代码"><a href="#FileInputStream-示例代码" class="headerlink" title="FileInputStream 示例代码"></a>FileInputStream 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line"><span class="comment">// 读取全部字节</span></span><br><span class="line"><span class="type">byte</span>[] bytes = fileInputStream.readAllBytes();</span><br><span class="line"><span class="comment">// 将字节转换为字符串并输出</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">System.out.println(str);</span><br><span class="line"></span><br><span class="line">fileInputStream.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line"><span class="comment">// 使用循环读取文件内容</span></span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"><span class="keyword">while</span> ((len = fileInputStream.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span>, len));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fileInputStream.close();</span><br></pre></td></tr></table></figure>

<h3 id="文件拷贝"><a href="#文件拷贝" class="headerlink" title="文件拷贝"></a>文件拷贝</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文件拷贝，将 test.txt 文件内容复制到 test-copy.txt 文件中，test-copy.txt 不存在也没关系，会自动创建</span></span><br><span class="line"><span class="type">File</span> <span class="variable">originFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">targetFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test-copy.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立输入流和输出流，输入流与源文件关联，输出流与目标文件关联</span></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(originFile);</span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(targetFile);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取源文件，写入目标文件，不用考虑内存，一次性读取全部内容</span></span><br><span class="line"><span class="type">byte</span>[] bytes = fileInputStream.readAllBytes();</span><br><span class="line">fileOutputStream.write(bytes);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭资源</span></span><br><span class="line">fileInputStream.close();</span><br><span class="line">fileOutputStream.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">originFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">targetFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test-copy.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(originFile);</span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(targetFile);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用循环读取源文件，写入目标文件，适合大文件拷贝，一部分一部分读取，避免内存溢出</span></span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> length;</span><br><span class="line"><span class="keyword">while</span> ((length = fileInputStream.read(buffer)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    fileOutputStream.write(buffer, <span class="number">0</span>, length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fileInputStream.close();</span><br><span class="line">fileOutputStream.close();</span><br></pre></td></tr></table></figure>

<h3 id="try-with-resources-语句"><a href="#try-with-resources-语句" class="headerlink" title="try-with-resources 语句"></a>try-with-resources 语句</h3><p>在前边我们编写代码时，所有的异常都采用了抛出处理，若我们使用 try-catch 语句捕获异常时，但是这样会有一个问题，那就是如果在 close 方法之前发生了异常，close 方法就不会被执行，从而导致资源未被释放。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">    <span class="type">byte</span>[] bytes = fileInputStream.readAllBytes();</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">    fileInputStream.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException exception) &#123;</span><br><span class="line">    exception.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了解决这个问题，我们可以使用 try-catch-finally 语句，在 finally 块中关闭资源。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try...catch...finally 语句</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">    <span class="type">byte</span>[] bytes = fileInputStream.readAllBytes();</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException exception) &#123;</span><br><span class="line">    exception.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fileInputStream != <span class="literal">null</span>) &#123;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是这样的代码就很难看，而且容易出错。为了解决这个问题，Java 7 引入了 try-with-resources 语句，可以自动关闭资源。前提是该资源实现了 <code>AutoCloseable 接口</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try-with-resources 语句</span></span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> (<span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file)) &#123;</span><br><span class="line">    <span class="type">byte</span>[] bytes = fileInputStream.readAllBytes();</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException exception) &#123;</span><br><span class="line">    exception.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="乱码"><a href="#乱码" class="headerlink" title="乱码"></a>乱码</h3><p>在使用字节流去读取文件内容时，容易出现乱码的问题，因为字节流无法处理字符编码问题。</p>
<p>因为有些字符在不同的编码下，占用的字节数不同，比如中文，在 UTF-8 编码下占用 3 个字节，而在 GBK 编码下占用 2 个字节。如果使用字节流按错误的字节数去读取文件内容，就会导致乱码。</p>
<p>假设现在文件中有一个中文汉字 <code>你</code>，转为十进制字节码为：<code>228 189 160</code>，也就是说，在读取文件时，必须把这三个字节码全部读取，才能正确显示这个汉字。如果我们每次只读取两个字节码 <code>228 189</code>，<code>160</code>，首先系统会认为这是两个字符，其次系统无法识别，或者识别错误，就会出现乱码或显示不正确的字符。</p>
<p>UTF-8 其实是 Unicode 的一个变种，它使用 1-4 个字节来表示一个字符。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// test.txt 文件内容，编码格式为 UTF-8，所以一个中文字符占用 3 个字节</span><br><span class="line">你好</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 两个字节为一个单位的读取文件内容，但是一个中文字符占用 3 个字节，所以会出现乱码</span></span><br><span class="line"><span class="comment">// 将 2 改成 3 就不会出现乱码</span></span><br><span class="line"><span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> length;</span><br><span class="line"><span class="keyword">while</span> ((length = fileInputStream.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, length));</span><br><span class="line">&#125;</span><br><span class="line">fileInputStream.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// �</span></span><br><span class="line"><span class="comment">// ��</span></span><br><span class="line"><span class="comment">// ��</span></span><br></pre></td></tr></table></figure>

<h3 id="编码和解码"><a href="#编码和解码" class="headerlink" title="编码和解码"></a>编码和解码</h3><table>
<thead>
<tr>
<th>方法</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>String(byte[] bytes, String charsetName)</td>
<td>将字节数组转为字符串</td>
</tr>
<tr>
<td>byte[] getBytes(String charsetName)</td>
<td>将字符串转为字节数组</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;你好&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认编码，IDEA 默认是 UTF-8</span></span><br><span class="line"><span class="type">byte</span>[] defaultBytes = str.getBytes();</span><br><span class="line">System.out.println(Arrays.toString(defaultBytes));  <span class="comment">// [-28, -67, -96, -27, -91, -67]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// UTF-8</span></span><br><span class="line"><span class="type">byte</span>[] utf_8Bytes = str.getBytes(StandardCharsets.UTF_8);</span><br><span class="line">System.out.println(Arrays.toString(utf_8Bytes));    <span class="comment">// [-28, -67, -96, -27, -91, -67]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// GBK</span></span><br><span class="line"><span class="type">byte</span>[] gbkBytes = str.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">System.out.println(Arrays.toString(gbkBytes));    <span class="comment">// [-60, -29, -70, -61]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解码，默认是 UTF-8</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(defaultBytes);</span><br><span class="line">System.out.println(str1);                           <span class="comment">// 你好</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// UTF-8</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(defaultBytes, StandardCharsets.UTF_8);</span><br><span class="line">System.out.println(str2);                           <span class="comment">// 你好</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// GBK，解码方式和编码不同，会乱码</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(defaultBytes, <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">System.out.println(str3);                           <span class="comment">// 浣犲ソ</span></span><br><span class="line"><span class="comment">// 解码方式和编码相同</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(gbkBytes, <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">System.out.println(str4);                           <span class="comment">// 你好</span></span><br></pre></td></tr></table></figure>

<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><p>字符流的底层其实就是字节流，但是在其基础上完善了字符编码和解码的问题。字符流专门用于处理文本数据，能够自动处理字符编码和解码的问题。</p>
<p>字符流同样提供了两个接口：<code>Reader</code> 和 <code>Writer</code>。 <code>Reader</code> 用于读取字符数据，<code>Writer</code> 用于写入字符数据。但是我们不需要直接使用这两个接口，而是使用它们的子类。分别是：<code>FileReader</code> 和 <code>FileWriter</code>。</p>
<h2 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h2><h2 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h2><h3 id="FileReader-构造方法"><a href="#FileReader-构造方法" class="headerlink" title="FileReader 构造方法"></a>FileReader 构造方法</h3><table>
<thead>
<tr>
<th>构造方法</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>FileReader(File file)</td>
<td>通过文件对象创建一个字符输入流</td>
</tr>
<tr>
<td>FileReader(String fileName)</td>
<td>通过文件路径创建一个字符输入流</td>
</tr>
<tr>
<td>FileReader(FileDescriptor fd)</td>
<td>通过文件描述符创建一个字符输入流</td>
</tr>
<tr>
<td>FileReader(File file, Charset charset)</td>
<td>通过文件对象和字符集创建</td>
</tr>
<tr>
<td>FileReader(String fileName, Charset charset)</td>
<td>通过文件路径和字符集创建</td>
</tr>
</tbody></table>
<h3 id="FileReader-常用方法"><a href="#FileReader-常用方法" class="headerlink" title="FileReader 常用方法"></a>FileReader 常用方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>getEncoding()</td>
<td>返回字符输入流的编码</td>
</tr>
<tr>
<td>read(CharBuffer target)</td>
<td>读取字符到 CharBuffer 对象中</td>
</tr>
<tr>
<td>read()</td>
<td>读取一个字符</td>
</tr>
<tr>
<td>read(char[] cbuf, int off, int len)</td>
<td>读取字符数组</td>
</tr>
<tr>
<td>read(char[] cbuf)</td>
<td>读取字符数组</td>
</tr>
<tr>
<td>ready()</td>
<td>判断流是否已经准备好</td>
</tr>
<tr>
<td>close()</td>
<td>关闭流</td>
</tr>
<tr>
<td>nullRead()</td>
<td>返回一个 int 类型的值，如果返回-1，则表示已经读完</td>
</tr>
<tr>
<td>skip(long n)</td>
<td>跳过指定数量的字符</td>
</tr>
<tr>
<td>markSupported()</td>
<td>判断流是否支持 mark 和 reset 方法</td>
</tr>
<tr>
<td>mark(int readAheadLimit)</td>
<td>设置 mark 的位置，readAheadLimit 表示可以读取的最大字节数</td>
</tr>
<tr>
<td>reset()</td>
<td>恢复到 mark 的位置</td>
</tr>
<tr>
<td>transferTo(Writer out)</td>
<td>将此输入流的数据传输到指定的输出流</td>
</tr>
</tbody></table>
<h3 id="FileReader-示例代码"><a href="#FileReader-示例代码" class="headerlink" title="FileReader 示例代码"></a>FileReader 示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> flag;</span><br><span class="line"><span class="keyword">while</span> ((flag = fileReader.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.print((<span class="type">char</span>)flag);   <span class="comment">// 你好</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fileReader.close();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>[] buffer = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ((len = fileReader.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span>, len));</span><br><span class="line">&#125;</span><br><span class="line">fileReader.close();</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://codedog1024.github.io">Code Dog</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://codedog1024.github.io/2025/10/18/Java25/">https://codedog1024.github.io/2025/10/18/Java25/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://codedog1024.github.io" target="_blank">代码狗的小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post-share"><div class="social-share" data-image="/img/12.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/10/17/Java24/" title="Java File"><img class="cover" src="/img/05.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Java File</div></div><div class="info-2"><div class="info-item-1">File 类File 类是 Java 中最常用的类之一，用于操作文件。根据文件路径来创建 File 对象。然后通过 File 对象，来获取文件信息，或者操作文件。File 其实也可以获取文件夹，毕竟文件夹也可以看做是文件。 File 类的构造方法   构造方法 描述    File(String pathname) 根据文件路径创建 File 对象   File(String parent, String child) 根据父目录路径和文件名创建 File 对象   File(File parent, String child) 根据父目录 File 对象和文件名创建 File 对象   123456789101112131415161718// 根据全路径获取文件File file1 = new File(&quot;D:\\java-study\\test.txt&quot;);System.out.println(file1);                      // D:\java-study\test.txt//...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/08/18/Java01/" title="Java 入门"><img class="cover" src="/img/05.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-18</div><div class="info-item-2">Java 入门</div></div><div class="info-2"><div class="info-item-1">Java 学习介绍略。 人机交互-图形化界面的小故事 最初的计算机并没有图形化的操作界面，只有一个可以输入命令的黑框(终端)，用户需要通过输入命令来操作计算机完成对应的操作。 而后，施乐发布了世界上第一款具有图形化界面的计算机。 截至至今，终端仍然被保留在计算机中，如 Windows 中的 CMD(命令提示符)，Linux 和 MacOS 中的 Terminal。  打开 CMD win + r 输入 cmd，点击确定  常用 CMD 命令   命令 作用 示例    盘符名 + 冒号 切换盘符 D:   dir 显示当前目录下的所有文件和文件夹 dir   cd 目录 切换目录 cd D:\Steam   cd .. 返回上一级目录 cd ..   cd \ 切换至根目录 cd \   exit 退出 CMD exit   cls 清空屏幕 cls   练习-利用 CMD 打开 QQ 并配置环境变量利用 CMD 打开 QQ 找到 QQ 的安装目录，如 C:\\Program Files (x86)\\Tencent\\QQ。 打开 CMD 并进入 QQ 的安装目录，cd...</div></div></div></a><a class="pagination-related" href="/2025/08/21/Java04/" title="Java 判断和循环"><img class="cover" src="/img/08.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-21</div><div class="info-item-2">Java 判断和循环</div></div><div class="info-2"><div class="info-item-1">流程控制语句-顺序结构从上至下依次执行。 流程控制语句-分支结构if 第一种格式1234// 当条件为的值为 true 时，代码才会执行if (条件) &#123;    // 条件为真时执行的代码&#125;  代码示例12345678Scanner sc = new Scanner(System.in);System.out.print(&quot;请输入年龄：&quot;);int age = sc.nextInt();if (age &gt;= 18) &#123;    System.out.println(&quot;你已成年&quot;);&#125;System.out.println(&quot;继续执行~&quot;);sc.close();  注意事项 若大括号内的代码只有一行，大括号可省略(不建议)。 对于布尔类型的变量进行判断时，直接使用变量即可，无需比较，如：true == true。  if 第二种格式123456// 当条件为的值为 true 时，执行 if 后大括号中的代码，反之执行 else 后大括号中的代码if (条件) &#123;   ...</div></div></div></a><a class="pagination-related" href="/2025/08/26/Java08/" title="Java 综合练习"><img class="cover" src="/img/03.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-26</div><div class="info-item-2">Java 综合练习</div></div><div class="info-2"><div class="info-item-1">买飞机票1234567891011121314151617181920212223242526272829public static void main(String[] args) &#123;    Scanner scanner = new Scanner(System.in);    System.out.print(&quot;请输入机票原价：&quot;);    double price = scanner.nextDouble();    System.out.print(&quot;请输入月份：&quot;);    int month = scanner.nextInt();    System.out.print(&quot;请选择头等舱或经济舱(0:头等舱,1:经济舱)：&quot;);    int type = scanner.nextInt();    if (month &gt;= 5 &amp;&amp; month &lt;= 10) &#123;        price = getPrice(type, price, 0.9,...</div></div></div></a><a class="pagination-related" href="/2025/08/18/Java02/" title="Java 基础语法"><img class="cover" src="/img/03.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-18</div><div class="info-item-2">Java 基础语法</div></div><div class="info-2"><div class="info-item-1">注释为什么要有注释注释就是对代码进行解释说明的文字，通过注释可以快速了解一个程序的功能和实现思路。 注释分类 单行注释：// 注释内容。 多行注释：/* 注释内容 */。 文档注释：/** 注释内容 */。  代码示例1234567891011121314// 这是单行注释/*这是多行注释可以写多行内容*//** * 这是文档注释 * 可以用于生成文档 * @author CodeDog * @version 1.0 * @since 2025-08-18 */  注意事项 注释不会影响程序的运行，编译器会自动忽略注释内容。若代码被注释，则该代码不会被执行。 多行注释不可以进行嵌套。  关键字什么是关键字关键字就是在 Java 中被赋予了特殊含义的单词，如：class、public、for 等。 关键字 classclass：用于创建&#x2F;定义一个类。被 class 修饰的名字称为类名 1234// HelloWorld 就是类名public class HelloWorld...</div></div></div></a><a class="pagination-related" href="/2025/08/24/Java07/" title="Java 方法"><img class="cover" src="/img/02.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-24</div><div class="info-item-2">Java 方法</div></div><div class="info-2"><div class="info-item-1">什么是方法方法是指一组执行特定任务的代码块，可以被重复调用。它通常包含方法名、参数列表和返回值类型。通过定义方法，可以提高代码的复用性和可维护性。方法是程序中最小的执行单元。 方法定义和调用方法定义格式123456// 访问权限修饰符还未学到，目前就用 public// static 修饰符也未学到，默认都加 static访问权限修饰符 [static] 返回值类型 方法名(参数列表)&#123;    方法体;    [return 返回值];&#125;  方法调用格式1方法名(参数列表);  代码示例1234567891011121314public static void main(String[] args) &#123;    // 调用方法    sayHello();&#125;// 定义方法// 访问修饰符 public// 静态修饰符 static 加个 static 的方法可以直接调用，无需创建对象，以后会学到// 返回值类型 void 没有返回值// 方法名 sayHello 小驼峰// 参数列表 无参数public static void...</div></div></div></a><a class="pagination-related" href="/2025/08/24/Java06/" title="Java 数组"><img class="cover" src="/img/04.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-24</div><div class="info-item-2">Java 数组</div></div><div class="info-2"><div class="info-item-1">数组的概述和静态初始化什么是数组数组是 Java 中最常用的数据结构，可以存储多个相同类型的数据。通过隐式数据类型转化，即便数据类型不同，也可以存储。 数组的定义 格式一：数据类型[] 数组名 格式二：数据类型 数组名[]  静态初始化在定义数组时，就为数组赋值。静态初始化时，数组的长度即为元素的个数，且不能改变。 代码示例12345678// 完整格式int[] array1 = new int[]&#123;1, 2, 3&#125;;// 简写int[] array2 = &#123;4, 5, 6&#125;;// 字符串数组String[] array3 = &#123;&quot;张三&quot;, &quot;李四&quot;, &quot;王五&quot;&#125;;// 小数数组double[] array4 = &#123;1.1, 2.2, 3.3&#125;;  数组的地址值和元素访问数组的地址值数组其实是一个引用数据类型，所以不能像基本数据类型那样直接通过变量名访问值。所以直接打印数组变量时，得到的 [I@6acbcfc0...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Code Dog</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#IO-%E6%B5%81"><span class="toc-number">1.</span> <span class="toc-text">IO 流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">3.</span> <span class="toc-text">字节流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FileOutputStream"><span class="toc-number">4.</span> <span class="toc-text">FileOutputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FileOutputStream-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">FileOutputStream 构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileOutputStream-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.</span> <span class="toc-text">FileOutputStream 常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileOutputStream-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-number">4.3.</span> <span class="toc-text">FileOutputStream 示例代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FileInputStream"><span class="toc-number">5.</span> <span class="toc-text">FileInputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">FileInputStream 构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.</span> <span class="toc-text">FileInputStream 常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-number">5.3.</span> <span class="toc-text">FileInputStream 示例代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.4.</span> <span class="toc-text">文件拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#try-with-resources-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.5.</span> <span class="toc-text">try-with-resources 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%B1%E7%A0%81"><span class="toc-number">5.6.</span> <span class="toc-text">乱码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="toc-number">5.7.</span> <span class="toc-text">编码和解码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-number">6.</span> <span class="toc-text">字符流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FileWriter"><span class="toc-number">7.</span> <span class="toc-text">FileWriter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FileReader"><span class="toc-number">8.</span> <span class="toc-text">FileReader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">8.1.</span> <span class="toc-text">FileReader 构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">8.2.</span> <span class="toc-text">FileReader 常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-number">8.3.</span> <span class="toc-text">FileReader 示例代码</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/18/Java25/" title="Java IO 流"><img src="/img/12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java IO 流"/></a><div class="content"><a class="title" href="/2025/10/18/Java25/" title="Java IO 流">Java IO 流</a><time datetime="2025-10-18T13:14:13.000Z" title="发表于 2025-10-18 21:14:13">2025-10-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/17/Java24/" title="Java File"><img src="/img/05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java File"/></a><div class="content"><a class="title" href="/2025/10/17/Java24/" title="Java File">Java File</a><time datetime="2025-10-17T12:18:56.000Z" title="发表于 2025-10-17 20:18:56">2025-10-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/16/Java23/" title="Java 异常"><img src="/img/03.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java 异常"/></a><div class="content"><a class="title" href="/2025/10/16/Java23/" title="Java 异常">Java 异常</a><time datetime="2025-10-16T12:50:40.000Z" title="发表于 2025-10-16 20:50:40">2025-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/15/Java22/" title="Java 方法引用"><img src="/img/06.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java 方法引用"/></a><div class="content"><a class="title" href="/2025/10/15/Java22/" title="Java 方法引用">Java 方法引用</a><time datetime="2025-10-15T12:55:09.000Z" title="发表于 2025-10-15 20:55:09">2025-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/15/Java21/" title="Java Stream"><img src="/img/08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Stream"/></a><div class="content"><a class="title" href="/2025/10/15/Java21/" title="Java Stream">Java Stream</a><time datetime="2025-10-15T02:09:26.000Z" title="发表于 2025-10-15 10:09:26">2025-10-15</time></div></div></div></div></div></div></main><footer id="footer" style="background: ture;"><div id="footer-wrap"><div class="copyright">&copy;2025 By Code Dog</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>