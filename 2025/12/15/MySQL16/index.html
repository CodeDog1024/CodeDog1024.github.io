<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL 分库分表 | 代码狗的小屋</title><meta name="author" content="Code Dog"><meta name="copyright" content="Code Dog"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="介绍在前边的学习中，我们所有的数据都是保存在一个数据库中，随着数据量的增长，SQL 的执行效率也会越来余额低，总有一天，单个数据库会无法承受，任何软件&#x2F;硬件均会存在瓶颈。 分库分表由此诞生，将一个数据库中的数据拆分到不同的数据库，减少单一数据库的数据量，来减少软&#x2F;硬件的压力。 拆分策略拆分策略有两种，分别是：垂直拆分和水平拆分。拆分对象又分为：分库和分表。 垂直拆分垂直分库垂直">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 分库分表">
<meta property="og:url" content="https://codedog1024.github.io/2025/12/15/MySQL16/index.html">
<meta property="og:site_name" content="代码狗的小屋">
<meta property="og:description" content="介绍在前边的学习中，我们所有的数据都是保存在一个数据库中，随着数据量的增长，SQL 的执行效率也会越来余额低，总有一天，单个数据库会无法承受，任何软件&#x2F;硬件均会存在瓶颈。 分库分表由此诞生，将一个数据库中的数据拆分到不同的数据库，减少单一数据库的数据量，来减少软&#x2F;硬件的压力。 拆分策略拆分策略有两种，分别是：垂直拆分和水平拆分。拆分对象又分为：分库和分表。 垂直拆分垂直分库垂直">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://codedog1024.github.io/img/05.jpg">
<meta property="article:published_time" content="2025-12-15T04:15:58.000Z">
<meta property="article:modified_time" content="2025-12-15T12:51:40.471Z">
<meta property="article:author" content="Code Dog">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://codedog1024.github.io/img/05.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySQL 分库分表",
  "url": "https://codedog1024.github.io/2025/12/15/MySQL16/",
  "image": "https://codedog1024.github.io/img/05.jpg",
  "datePublished": "2025-12-15T04:15:58.000Z",
  "dateModified": "2025-12-15T12:51:40.471Z",
  "author": [
    {
      "@type": "Person",
      "name": "Code Dog",
      "url": "https://codedog1024.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://codedog1024.github.io/2025/12/15/MySQL16/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 6 || hour >= 1
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL 分库分表',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/05.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">代码狗的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">MySQL 分库分表</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySQL 分库分表</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-12-15T04:15:58.000Z" title="发表于 2025-12-15 12:15:58">2025-12-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-12-15T12:51:40.471Z" title="更新于 2025-12-15 20:51:40">2025-12-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>在前边的学习中，我们所有的数据都是保存在一个数据库中，随着数据量的增长，SQL 的执行效率也会越来余额低，总有一天，单个数据库会无法承受，任何软件&#x2F;硬件均会存在瓶颈。</p>
<p><code>分库分表</code>由此诞生，将一个数据库中的数据<code>拆分</code>到不同的数据库，减少单一数据库的数据量，来减少软&#x2F;硬件的压力。</p>
<h2 id="拆分策略"><a href="#拆分策略" class="headerlink" title="拆分策略"></a>拆分策略</h2><p>拆分策略有两种，分别是：<code>垂直拆分</code>和<code>水平拆分</code>。拆分对象又分为：<code>分库</code>和<code>分表</code>。</p>
<h3 id="垂直拆分"><a href="#垂直拆分" class="headerlink" title="垂直拆分"></a>垂直拆分</h3><h4 id="垂直分库"><a href="#垂直分库" class="headerlink" title="垂直分库"></a>垂直分库</h4><p><code>垂直分库</code>：根据数据库中各表为依据，将表分别存储到不同的数据库。</p>
<ol>
<li>每个库的表结构不一致</li>
<li>每个库的数据不一致</li>
<li>所有库的并集是全量数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 假设存在数据库：</span></span><br><span class="line"><span class="comment">-- 电商数据库（tb_user, tb_order, tb_product）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以做如下拆分：</span></span><br><span class="line"><span class="comment">-- 用户数据库（tb_user）</span></span><br><span class="line"><span class="comment">-- 订单数据库（tb_order)</span></span><br><span class="line"><span class="comment">-- 商品数据库（tb_product）</span></span><br></pre></td></tr></table></figure>

<h4 id="垂直分表"><a href="#垂直分表" class="headerlink" title="垂直分表"></a>垂直分表</h4><p><code>垂直分表</code>：根据表中各字段为依据，将字段分别存储到不同的表</p>
<ol>
<li>每个表结构不一致</li>
<li>每个表的数据不一致，但是每个表之间是 1 对 1 的关系</li>
<li>所有表的并集是全量数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 假设存在表：</span></span><br><span class="line"><span class="comment">-- tb_user(id, name, password, age, gender, address, phone, email, hobby)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以做如下拆分</span></span><br><span class="line"><span class="comment">-- tb_user_base(id, name, password, age, gender)</span></span><br><span class="line"><span class="comment">-- tb_user_detail(id, address, phone, email, hobby)</span></span><br></pre></td></tr></table></figure>

<h3 id="水平拆分"><a href="#水平拆分" class="headerlink" title="水平拆分"></a>水平拆分</h3><h4 id="水平分库"><a href="#水平分库" class="headerlink" title="水平分库"></a>水平分库</h4><p><code>水平分库</code>：将数据均分至多个数据库。</p>
<ol>
<li>每个库的表结构一致</li>
<li>每个库的数据不一致</li>
<li>所有库的并集是全量数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 假设存在数据库：</span></span><br><span class="line"><span class="comment">-- 电商数据库（tb_user), tb_user 中存储了数据 （1, 2, 3, 4, 5, 6）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以做如下拆分：</span></span><br><span class="line"><span class="comment">-- 电商数据库（tb_user), tb_user 中存储了数据 （1, 2）</span></span><br><span class="line"><span class="comment">-- 电商数据库（tb_user), tb_user 中存储了数据 （3, 4）</span></span><br><span class="line"><span class="comment">-- 电商数据库（tb_user), tb_user 中存储了数据 （5, 6）</span></span><br></pre></td></tr></table></figure>

<h4 id="水平分表"><a href="#水平分表" class="headerlink" title="水平分表"></a>水平分表</h4><p><code>水平分表</code>：将数据均分至多个表。</p>
<ol>
<li>每个表结构一致</li>
<li>每个表数据不一致</li>
<li>所有表的并集是全量数据</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 假设存在表：</span></span><br><span class="line"><span class="comment">-- tb_user 中存储了数据 （1, 2, 3, 4, 5, 6）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以做如下拆分：</span></span><br><span class="line"><span class="comment">-- tb_user 中存储了数据 （1, 2）</span></span><br><span class="line"><span class="comment">-- tb_user 中存储了数据 （3, 4）</span></span><br><span class="line"><span class="comment">-- tb_user 中存储了数据 （5, 6）</span></span><br></pre></td></tr></table></figure>

<h2 id="实现技术"><a href="#实现技术" class="headerlink" title="实现技术"></a>实现技术</h2><p>当我们采用了<code>分库分表</code>的技术后，我们的服务端在访问数据库时，就需要判断，<code>想要访问的数据在哪个库</code>，此时就会给服务端增加压力，市面上已经有了比较成熟的技术：</p>
<ol>
<li>ShardingJDBC：基于 AOP 原理，在服务端对 SQL 进行拦截、解析、改写、处理，需要自己编码配置，只支持 Java，<code>性能较高</code></li>
<li>MyCat：数据库分库分表的中间件，无需调整代码即可实现，支持多种语言，但性能不如 ShardingJDBC</li>
</ol>
<h2 id="MyCat-概述"><a href="#MyCat-概述" class="headerlink" title="MyCat 概述"></a>MyCat 概述</h2><p>MyCat 是一个开源的、活跃的、基于 Java 语言编写的 MySQL 数据库中间件，可以像使用 MySQL 一样来使用 MyCat，从 <code>Server → MySQL</code> 变成了 <code>Server → MyCat → MySQL</code>。</p>
<p>因为 <code>MyCat</code> 是基于 Java 语言开发的，所以想要运行它，必须要安装 Java 虚拟机 JDK</p>
<h2 id="MyCat-入门"><a href="#MyCat-入门" class="headerlink" title="MyCat 入门"></a>MyCat 入门</h2><h2 id="MyCat-配置"><a href="#MyCat-配置" class="headerlink" title="MyCat 配置"></a>MyCat 配置</h2><h2 id="MyCat-分片"><a href="#MyCat-分片" class="headerlink" title="MyCat 分片"></a>MyCat 分片</h2><h2 id="MyCat-管理及监控"><a href="#MyCat-管理及监控" class="headerlink" title="MyCat 管理及监控"></a>MyCat 管理及监控</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://codedog1024.github.io">Code Dog</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://codedog1024.github.io/2025/12/15/MySQL16/">https://codedog1024.github.io/2025/12/15/MySQL16/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://codedog1024.github.io" target="_blank">代码狗的小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post-share"><div class="social-share" data-image="/img/05.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/14/MySQL15/" title="MySQL 主从复制"><img class="cover" src="/img/07.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">MySQL 主从复制</div></div><div class="info-2"><div class="info-item-1">概述主从复制是指同时存在两台服务器，分别安装一个数据库，一个为主数据库（Master），一个为从数据库（Slave），当我们操作主数据库时，主数据库会生成对应的二进制日志，然后将二进制日志发送给从数据库，从数据库根据二进制日志中的 SQL 记录同步主数据库的操作，从而实现主从复制，保证主数据库和从数据库的数据保持一致。 一台主数据库可以拥有多台从数据库，而从数据库也可以作为另一台数据库的主数据库。 主从复制的作用：  当主库挂掉时，从库可以无缝衔接，避免服务阻塞 实现读写分离，降低主库的访问压力 可以通过从库执行备份，避免锁库而影响服务  原理前边提到主从复制是通过二进制日志来实现的，之前学习了二进制日志中记录了所有的 DDL 和 DML 语句，当我们操作数据库、表、数据时，所有的记录均会被记录到二进制日志，在从数据库端存在两个线程：IOThread 和 SQLThread，IOThread 线程负责向主数据库发送请求来获取二进制日志，当取得日志文件后，会将日志文件写入到 中继日志（Relay.log），然后 SQLThread 线程负责读取 中继日志...</div></div></div></a><a class="pagination-related" href="/2025/12/15/JDBC01/" title="JDBC 概述"><img class="cover" src="/img/10.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">JDBC 概述</div></div><div class="info-2"><div class="info-item-1">数据的持久化持久化：把数据保存到可掉电式存储设备中以供之后使用。数据持久化意味着将内存中的数据保存到硬盘中，而持久化的实现过程大多通过各种关系型数据库完成。 Java 中的数据存储技术在 Java 中，数据库存取技术可以分为以下几类：  JDBC 直接访问 JDO 技术 第三方框架：Hibernate、Mybatis 等  JDBC 是 Java 访问数据库的基础，JDO、Hibernate、Mybatis 等只是在 JDBC 基础上进行了封装，丰富了功能。 JDBC 介绍JDBC（Java Database Connectivity）是一个独立于特定数据库管理系统、通用的 SQL 数据库存取和操作的公共接口（API），定义了用来访问数据库的 Java 类库（java.sql，javax.sql），使用这些类库可以通过标准的方法来访问数据库。 JDBC为访问不同的数据库提供了统一的途径，使得开发者无需关心不同数据库之间的差异。在操作不同的数据库时，只需要引入不同的驱动即可，而驱动就是各数据库厂商根据 JDBC 标准化接口而编写的具体的实现类。 JDBC 体系结构 面向应用的...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/10/29/MySQL1/" title="MySQL 概述"><img class="cover" src="/img/07.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-29</div><div class="info-item-2">MySQL 概述</div></div><div class="info-2"><div class="info-item-1">概述数据库：数据库就是一个仓库，将数据进行有组织的存储管理。 MySQL: 是一个关系型数据库管理系统（Relational Database Management System，RDBMS），MySQL 并不是数据库。 SQL：SQL是Structured Query Language的缩写，是一种数据库查询和程序设计语言。我们需要通过编写 SQL 语句来操作数据库。 数据库分类   数据库 类型    Oracle 关系型数据库   MySQL 关系型数据库   SQL Server 关系型数据库   PostgreSQL 关系型数据库   IBM DB2 关系型数据库   SQLite 关系型数据库   MongoDB 非关系型数据库   Microsoft Azure SQL Database 关系型数据库   Hive 关系型数据库   下载安装 MySQL社区版 下载地址 启动、停止 启动命令：net start 服务名 停止命令：net stop 服务名  连接 使用 MySQL 提供的命令行工具 使用 windows 终端，执行 MySQL [-h...</div></div></div></a><a class="pagination-related" href="/2025/10/29/MySQL2/" title="MySQL SQL"><img class="cover" src="/img/08.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-29</div><div class="info-item-2">MySQL SQL</div></div><div class="info-2"><div class="info-item-1">SQL 通用语法 SQL 语句可以单行或多行编写，以分号结尾。 SQL 中应使用空格来格式化语句，提高可读性。 SQL 语句大小写不敏感，但建议使用大写。 注释： 单行注释：--、# 多行注释：/* */    SQL 分类   分类 全称 描述    DDL Data Definition Language 数据定义语言，用于定义数据库对象，如表、索引、视图、存储过程、函数等   DML Data Manipulation Language 数据操作语言，用于对数据库中的数据进行增删改   DQL Data Query Language 数据查询语言，用于查询数据库中的数据   DCL Data Control Language 数据控制语言，用于控制数据库的访问权限   DDL操作数据库   功能 SQL 语法 描述    查询 SHOW DATABASES; 查询全部数据库   查询 SELECT DATABASE(); 查询当前数据库   创建 CREATE DATABASE [IF NOT EXISTS] 数据库名 [DEFAULT CHARACTER SET...</div></div></div></a><a class="pagination-related" href="/2025/11/06/MySQL4/" title="MySQL 约束"><img class="cover" src="/img/05.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-06</div><div class="info-item-2">MySQL 约束</div></div><div class="info-2"><div class="info-item-1">约束约束：作用在表中的字段上，保证字段的数据满足要求，用于保证数据的正确型、有效性、安全性。 分类   约束 作用 关键字    主键 该值必须唯一、不重复、不能为 NULL PRIMARY KEY   外键 该值必须在指定表中存在 FOREIGN KEY   唯一 该值必须唯一、不重复 UNIQUE   非空 该值不能为空 NOT NULL   默认值 若为指定该值，则使用默认值 DEFAULT   检查 检查字段的值 CHECK   约束代码示例123456789101112CREATE TABLE users (    -- 主键，并且自增    id INT PRIMARY KEY AUTO_INCREMENT COMMENT &#x27;ID&#x27;,    -- 唯一，并且不能为空    name VARCHAR(10) NOT NULL UNIQUE COMMENT &#x27;姓名&#x27;,    -- 检查，年龄必须大于 0 且小于 120    age INT CHECK ( age &gt; 0 AND age &lt; 120) COMMENT...</div></div></div></a><a class="pagination-related" href="/2025/11/07/MySQL5/" title="MySQL 多表查询"><img class="cover" src="/img/10.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-07</div><div class="info-item-2">MySQL 多表查询</div></div><div class="info-2"><div class="info-item-1">多表关系在实际开发中，每个表之间都存在一些关系，基本上分为三种：一对一、一对多(多对一)、多对多。 一对一一对一关系，比如：学生表和档案表，对于学生来说，一个学生只能拥有一份档案，而档案只能属于一个学生，这就是一对一。 12345678910111213CREATE TABLE student (    id   INT PRIMARY KEY AUTO_INCREMENT COMMENT &#x27;ID&#x27;,    name VARCHAR(10) UNIQUE NOT NULL COMMENT &#x27;姓名&#x27;) COMMENT &#x27;学生表&#x27;;CREATE TABLE profile (    id   INT PRIMARY KEY AUTO_INCREMENT COMMENT &#x27;ID&#x27;,    phone CHAR(11) UNIQUE COMMENT &#x27;电话号&#x27;,    address VARCHAR(100) COMMENT &#x27;家庭住址&#x27;,    --...</div></div></div></a><a class="pagination-related" href="/2025/11/06/MySQL3/" title="MySQL 函数"><img class="cover" src="/img/13.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-06</div><div class="info-item-2">MySQL 函数</div></div><div class="info-2"><div class="info-item-1">函数函数是一段已经被编写好，可以直接使用的代码片段。MySQL 中内置了很多的函数，我们可以使用这些函数来完成一些简单的任务。 字符串函数常用字符串函数   函数 描述    CONCAT(str1, str2, …) 连接字符串   LOWER(str) 将字符串转换为小写   UPPER(str) 将字符串转换为大写   LPAD(str, len, pad_str) 左填充字符串   RPAD(str, len, pad_str) 右填充字符串   TRIM(str) 去掉字符串两侧的空格   SUBSTRING(str, start, len) 截取字符串   REPLACE(str, old_str, new_str) 替换字符串   LENGTH(str) 返回字符串的长度   LOCATE(substr, str) 返回子字符串在字符串中的位置   INSTR(str,...</div></div></div></a><a class="pagination-related" href="/2025/11/09/MySQL7/" title="MySQL 存储引擎"><img class="cover" src="/img/07.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-11-09</div><div class="info-item-2">MySQL 存储引擎</div></div><div class="info-2"><div class="info-item-1">MySQL 体系结构图 客户端连接器：Native C API、JDBC、ODBC、.NET、PHP、Python、Ruby、Cobol 等 MySQL 服务端： 连接层：连接池 服务层：SQL 接口、解析器、查询优化器、缓存 引擎层：可插拔存储引擎 存储层：数据文件、索引文件、数据结构、数据结构描述文件    存储引擎简介存储引擎是 MySQL 数据库管理系统中的核心部分，负责处理数据存储和检索。存储引擎提供了一种机制，将数据存储在数据库管理系统中，并允许用户使用各种查询语句来检索数据。存储引擎是基于表的，而不是库，所以同一个库中的不同表可以有不同的存储引擎。  查看数据库支持的存储引擎  SHOW ENGINES;   设置存储引擎  CREATE TABLE table_name (……) ENGINE&#x3D;[存储引擎名];    123456789101112131415161718192021-- 查看建表语句-- ENGINE=InnoDB 默认存储引擎为 InnoDBSHOW CREATE TABLE account;--...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Code Dog</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%86%E5%88%86%E7%AD%96%E7%95%A5"><span class="toc-number">2.</span> <span class="toc-text">拆分策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E6%8B%86%E5%88%86"><span class="toc-number">2.1.</span> <span class="toc-text">垂直拆分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E5%88%86%E5%BA%93"><span class="toc-number">2.1.1.</span> <span class="toc-text">垂直分库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E5%88%86%E8%A1%A8"><span class="toc-number">2.1.2.</span> <span class="toc-text">垂直分表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E6%8B%86%E5%88%86"><span class="toc-number">2.2.</span> <span class="toc-text">水平拆分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%88%86%E5%BA%93"><span class="toc-number">2.2.1.</span> <span class="toc-text">水平分库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%88%86%E8%A1%A8"><span class="toc-number">2.2.2.</span> <span class="toc-text">水平分表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF"><span class="toc-number">3.</span> <span class="toc-text">实现技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyCat-%E6%A6%82%E8%BF%B0"><span class="toc-number">4.</span> <span class="toc-text">MyCat 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyCat-%E5%85%A5%E9%97%A8"><span class="toc-number">5.</span> <span class="toc-text">MyCat 入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyCat-%E9%85%8D%E7%BD%AE"><span class="toc-number">6.</span> <span class="toc-text">MyCat 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyCat-%E5%88%86%E7%89%87"><span class="toc-number">7.</span> <span class="toc-text">MyCat 分片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MyCat-%E7%AE%A1%E7%90%86%E5%8F%8A%E7%9B%91%E6%8E%A7"><span class="toc-number">8.</span> <span class="toc-text">MyCat 管理及监控</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/16/JDBC03/" title="JDBC PreparedStatement"><img src="/img/09.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDBC PreparedStatement"/></a><div class="content"><a class="title" href="/2025/12/16/JDBC03/" title="JDBC PreparedStatement">JDBC PreparedStatement</a><time datetime="2025-12-16T12:48:36.000Z" title="发表于 2025-12-16 20:48:36">2025-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/16/JDBC02/" title="JDBC 获取数据库连接"><img src="/img/12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDBC 获取数据库连接"/></a><div class="content"><a class="title" href="/2025/12/16/JDBC02/" title="JDBC 获取数据库连接">JDBC 获取数据库连接</a><time datetime="2025-12-16T11:37:46.000Z" title="发表于 2025-12-16 19:37:46">2025-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/15/JDBC01/" title="JDBC 概述"><img src="/img/10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDBC 概述"/></a><div class="content"><a class="title" href="/2025/12/15/JDBC01/" title="JDBC 概述">JDBC 概述</a><time datetime="2025-12-15T12:54:15.000Z" title="发表于 2025-12-15 20:54:15">2025-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/15/MySQL16/" title="MySQL 分库分表"><img src="/img/05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL 分库分表"/></a><div class="content"><a class="title" href="/2025/12/15/MySQL16/" title="MySQL 分库分表">MySQL 分库分表</a><time datetime="2025-12-15T04:15:58.000Z" title="发表于 2025-12-15 12:15:58">2025-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/14/MySQL15/" title="MySQL 主从复制"><img src="/img/07.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL 主从复制"/></a><div class="content"><a class="title" href="/2025/12/14/MySQL15/" title="MySQL 主从复制">MySQL 主从复制</a><time datetime="2025-12-14T14:29:43.000Z" title="发表于 2025-12-14 22:29:43">2025-12-14</time></div></div></div></div></div></div></main><footer id="footer" style="background: ture;"><div id="footer-wrap"><div class="copyright">&copy;2025 By Code Dog</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>